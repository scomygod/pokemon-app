<section class="p-8">
  <app-hero-pokemon
    [pokemonCount]="pokemonsResource.value()?.count ?? 0"
    [totalPages]="totalPages()"
  >
  </app-hero-pokemon>
  @if (totalPages() > 0) {
  <div class="flex justify-center items-center py-6">
    <app-pagination [pages]="totalPages()" [currentPage]="paginationService.currentPage()" />
  </div>
  }

  @if (pokemonsResource.isLoading()) {
  <div class="flex justify-center items-center h-64">
    <span class="loading loading-spinner loading-lg"></span>
  </div>
  }

  @if (pokemonsResource.hasValue()) {
  <div class="overflow-x-auto">
    <table class="table table-zebra w-full">
      <thead>
        <tr>
          <th class="w-1/3 text-center">ID</th>
          <th class="w-1/3 text-center">Nombre</th>
          <th class="w-1/3 text-center">Acciones</th>
        </tr>
      </thead>
      <tbody>
        @for (pokemon of pokemonsResource.value().results; track pokemon.name) {
        <tr>
          <td class="text-center">{{ pokemon.url.split('/').slice(-2, -1)[0] }}</td>
          <td class="text-center">{{ pokemon.name | titlecase }}</td>
          <td class="text-center">
            <button class="btn btn-sm btn-primary" (click)="viewDetails(pokemon)">
              Ver Detalle
            </button>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
  }
</section>
